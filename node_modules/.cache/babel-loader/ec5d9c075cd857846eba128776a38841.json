{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionInterface = void 0;\n\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\n\nvar ActionImpl_1 = require(\"./ActionImpl\");\n\nvar ActionInterface =\n/** @class */\nfunction () {\n  function ActionInterface(actions, options) {\n    if (actions === void 0) {\n      actions = [];\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.actions = {};\n    this.options = options;\n    this.add(actions);\n  }\n\n  ActionInterface.prototype.add = function (actions) {\n    for (var i = 0; i < actions.length; i++) {\n      var action = actions[i];\n\n      if (action.parent) {\n        (0, tiny_invariant_1.default)(this.actions[action.parent], \"Attempted to create action \\\"\" + action.name + \"\\\" without registering its parent \\\"\" + action.parent + \"\\\" first.\");\n      }\n\n      this.actions[action.id] = ActionImpl_1.ActionImpl.create(action, {\n        history: this.options.historyManager,\n        store: this.actions\n      });\n    }\n\n    return __assign({}, this.actions);\n  };\n\n  ActionInterface.prototype.remove = function (actions) {\n    var _this = this;\n\n    actions.forEach(function (action) {\n      var actionImpl = _this.actions[action.id];\n      if (!actionImpl) return;\n      var children = actionImpl.children;\n\n      while (children.length) {\n        var child = children.pop();\n        if (!child) return;\n        delete _this.actions[child.id];\n        if (child.parentActionImpl) child.parentActionImpl.removeChild(child);\n        if (child.children) children.push.apply(children, child.children);\n      }\n\n      if (actionImpl.parentActionImpl) {\n        actionImpl.parentActionImpl.removeChild(actionImpl);\n      }\n\n      delete _this.actions[action.id];\n    });\n    return __assign({}, this.actions);\n  };\n\n  return ActionInterface;\n}();\n\nexports.ActionInterface = ActionInterface;","map":{"version":3,"sources":["/Users/DhritiGabani/personal-web/node_modules/kbar/lib/action/ActionInterface.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","defineProperty","exports","value","ActionInterface","tiny_invariant_1","require","ActionImpl_1","actions","options","add","action","parent","default","name","id","ActionImpl","create","history","historyManager","store","remove","_this","forEach","actionImpl","children","child","pop","parentActionImpl","removeChild","push"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionInterface = void 0;\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar ActionImpl_1 = require(\"./ActionImpl\");\nvar ActionInterface = /** @class */ (function () {\n    function ActionInterface(actions, options) {\n        if (actions === void 0) { actions = []; }\n        if (options === void 0) { options = {}; }\n        this.actions = {};\n        this.options = options;\n        this.add(actions);\n    }\n    ActionInterface.prototype.add = function (actions) {\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (action.parent) {\n                (0, tiny_invariant_1.default)(this.actions[action.parent], \"Attempted to create action \\\"\" + action.name + \"\\\" without registering its parent \\\"\" + action.parent + \"\\\" first.\");\n            }\n            this.actions[action.id] = ActionImpl_1.ActionImpl.create(action, {\n                history: this.options.historyManager,\n                store: this.actions,\n            });\n        }\n        return __assign({}, this.actions);\n    };\n    ActionInterface.prototype.remove = function (actions) {\n        var _this = this;\n        actions.forEach(function (action) {\n            var actionImpl = _this.actions[action.id];\n            if (!actionImpl)\n                return;\n            var children = actionImpl.children;\n            while (children.length) {\n                var child = children.pop();\n                if (!child)\n                    return;\n                delete _this.actions[child.id];\n                if (child.parentActionImpl)\n                    child.parentActionImpl.removeChild(child);\n                if (child.children)\n                    children.push.apply(children, child.children);\n            }\n            if (actionImpl.parentActionImpl) {\n                actionImpl.parentActionImpl.removeChild(actionImpl);\n            }\n            delete _this.actions[action.id];\n        });\n        return __assign({}, this.actions);\n    };\n    return ActionInterface;\n}());\nexports.ActionInterface = ActionInterface;\n"]},"metadata":{},"sourceType":"script"}